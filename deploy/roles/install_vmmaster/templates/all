import os


class Config(object):
    BASEDIR = {{vmmaster_basedir}}
    PORT = {{vmmaster_port}}

{% if use_postgres %}
    DATABASE = "postgresql://{{postgres_user}}:{{postgres_password}}@{{postgres_host}}/{{postgres_db}}"
{% else %}
    DATABASE = "sqlite:///app.db"
{% endif %}

    CLONES_DIR = BASEDIR + "/{{vmmaster_clones_dir}}"
    ORIGINS_DIR = BASEDIR + "/{{vmmaster_origins_dir}}"
    SESSION_DIR = BASEDIR + "/{{vmmaster_session_dir}}"

    # screenshots
    SCREENSHOTS_DIR = BASEDIR + "/{{vmmaster_screenshots_dir}}"
    SCREENSHOTS_DAYS = {{vmmaster_screenshots_days}}

    # logging
    LOG_DIR = BASEDIR + "/{{vmmaster_log_dir}}"
    LOG_SIZE = {{vmmaster_log_size}}

    # kvm
    USE_KVM = {{use_kvm}}
    KVM_MAX_VM_COUNT = {{vmmaster_kvm_max_vm_count}}
    KVM_PRELOADED = {
{% for vm in vmmaster_kvm_preloaded if vmmaster_use_kvm_preloaded %}
        "{{vm.type}}": {{vm.count}},
{% endfor %}
    }

    # openstack
    USE_OPENSTACK = {{use_openstack}}
    OPENSTACK_MAX_VM_COUNT = {{vmmaster_openstack_max_vm_count}}
    OPENSTACK_PRELOADED = {
{% for vm in vmmaster_openstack_preloaded if vmmaster_use_openstack_preloaded %}
        "{{vm.type}}": {{vm.count}},
{% endfor %}
    }

    OPENSTACK_AUTH_URL = "{{openstack_auth_url}}"
    OPENSTACK_PORT = {{openstack_port}}
    OPENSTACK_CLIENT_VERSION = "{{openstack_client_version}}"
    OPENSTACK_USERNAME = "{{openstack_username}}"
    OPENSTACK_PASSWORD = "{{openstack_password}}"
    OPENSTACK_TENANT_NAME = "{{openstack_tenant_name}}"
    OPENSTACK_TENANT_ID = "{{openstack_tenant_id}}"
    OPENSTACK_ZONE_FOR_VM_CREATE = "{{openstack_zone_for_vm_create}}"
    OPENSTACK_PLATFORM_NAME_PREFIX = "{{openstack_platform_name_prefix}}"

    VM_CHECK = {{vmmaster_vm_check}}
    VM_CHECK_FREQUENCY = {{vmmaster_vm_check_frequency}}
    VM_CREATE_CHECK_TIMEOUT = {{vm_create_check_timeout}}
    VM_CREATE_CHECK_ATTEMPTS = {{vm_create_check_attempts}}
    PRELOADER_FREQUENCY = {{preloader_frequency}}
    SESSION_TIMEOUT = {{vmmaster_session_timeout}}
    PING_TIMEOUT = {{vmmaster_ping_timeout}}

    # additional logging
    # GRAYLOG = {{vmmaster_graylog}}

    # graphite
    GRAPHITE = {{vmmaster_graphite}}

    # selenium
    SELENIUM_PORT = {{vmmaster_selenium_port}}
    VMMASTER_AGENT_PORT = {{vmmaster_agent_port}}
